"use strict";
(self.webpackJsonp__wix_thunderbolt_app = self.webpackJsonp__wix_thunderbolt_app || []).push([
    [5776], {
        99936: function(e, t, r) {
            r.d(t, {
                E: function() {
                    return n
                }
            });
            var n = function() {
                function e() {}
                return e.verify = function(t) {
                    if (t instanceof e) return t;
                    throw new Error("This class must extend BaseStorage!")
                }, e.prototype.extendScope = function(e) {
                    return e
                }, e
            }()
        },
        67438: function(e, t, r) {
            r.d(t, {
                N: function() {
                    return y
                }
            });
            var n = r(31191),
                o = r(99936),
                i = r(57879),
                c = ["essential", "functional", "analytics", "advertising"];

            function a(e) {
                ! function(e) {
                    if (!e) return;
                    if (-1 === c.indexOf(e)) {
                        var t = c.map((function(e) {
                            return "'" + e + "'"
                        })).join(", ");
                        throw new Error("category must be one of " + t)
                    }
                }(e);
                var t = ("object" == typeof consentPolicyManager && consentPolicyManager.getCurrentConsentPolicy && consentPolicyManager.getCurrentConsentPolicy() || "object" == typeof Wix && Wix.Utils && Wix.Utils.getCurrentConsentPolicy && Wix.Utils.getCurrentConsentPolicy() || {}).policy;
                if (void 0 !== t && !t[e]) throw i.ir
            }

            function u(e) {
                var t = e.split(i.oZ),
                    r = t[0],
                    n = t[1],
                    o = r.split(i.$4),
                    c = o[1],
                    a = o[2];
                return void 0 === a ? {
                    namespace: c,
                    key: n
                } : {
                    namespace: c,
                    scope: a,
                    key: n
                }
            }

            function s(e) {
                return JSON.parse(e)
            }

            function l(e) {
                void 0 === e && (e = i.f1 + i.$4);
                for (var t = [], r = 0; r < localStorage.length; r++) {
                    var o = localStorage.key(r);
                    if (o.startsWith(e)) {
                        var c = localStorage.getItem(o);
                        t.push((0, n.pi)((0, n.pi)({
                            size: o.length + c.length,
                            originalKey: o
                        }, s(c)), u(o)))
                    }
                }
                return t
            }

            function f(e) {
                return !!e.expiration && e.createdAt + 1e3 * e.expiration <= Date.now()
            }

            function p(e, t) {
                return void 0 === t && (t = e.records[0]), localStorage.removeItem(t.originalKey), {
                    records: t === e.records[0] ? e.records.slice(1) : e.records.filter((function(e) {
                        return e.originalKey !== t.originalKey
                    })),
                    requiredSpace: e.requiredSpace - t.size
                }
            }

            function g(e, t) {
                return e.lastUsed - t.lastUsed
            }

            function d(e) {
                return e.records.length > 0 && e.requiredSpace > 0
            }

            function v(e) {
                var t = {
                    records: l(),
                    requiredSpace: e
                };
                ! function(e) {
                    for (e.records.sort(g); d(e);) e = p(e)
                }(t = function(e) {
                    return e.records.filter((function(e) {
                        return f(e)
                    })).forEach((function(t) {
                        return e = p(e, t)
                    })), e
                }(t))
            }
            var y = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return (0, n.ZT)(t, e), t.prototype.setItem = function(e, t, r) {
                    return (0, n.mG)(this, void 0, void 0, (function() {
                        var o, i;
                        return (0, n.Jh)(this, (function(n) {
                            o = m(e, r), i = S(t, r), r.category && a(r.category);
                            try {
                                localStorage.setItem(o, i)
                            } catch (e) {
                                v(o.length + i.length), localStorage.setItem(o, i)
                            }
                            return [2]
                        }))
                    }))
                }, t.prototype.getItem = function(e, t) {
                    var r, n = m(e, t);
                    try {
                        r = localStorage.getItem(n)
                    } catch (e) {
                        return Promise.reject(i.Jx)
                    }
                    return (r = r && s(r)) && !f(r) ? (function(e, t) {
                        var r = t.expiration,
                            n = t.createdAt;
                        localStorage.setItem(e, S(t.value, {
                            expiration: r,
                            createdAt: n
                        }))
                    }(n, r), Promise.resolve(r.value)) : Promise.reject(i.Hi)
                }, t.prototype.removeItem = function(e, t) {
                    return e = m(e, t), localStorage.removeItem(e), Promise.resolve()
                }, t.prototype.getAllItems = function(e) {
                    var t = h(e),
                        r = {};
                    return l(t).forEach((function(e) {
                        f(e) || (r[e.key] = e.value)
                    })), Promise.resolve(r)
                }, t
            }(o.E);

            function m(e, t) {
                return h(t) + e
            }

            function h(e) {
                return [i.f1, e.namespace, (t = e.scope, "string" == typeof t ? t : JSON.stringify(t))].filter((function(e) {
                    return e
                })).join(i.$4) + i.oZ;
                var t
            }

            function S(e, t) {
                var r = {
                    lastUsed: Date.now(),
                    createdAt: t.createdAt || Date.now(),
                    expiration: t.expiration,
                    value: e
                };
                return JSON.stringify(r)
            }
        }
    }
]);
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/tpaCommons.3d58f891.chunk.min.js.map