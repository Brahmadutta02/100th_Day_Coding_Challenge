"use strict";
(self.webpackJsonp__wix_thunderbolt_app = self.webpackJsonp__wix_thunderbolt_app || []).push([
    [9105], {
        5784: function(n, e, t) {
            t.r(e), t.d(e, {
                DashboardSdkFactory: function() {
                    return I
                }
            });
            var r = {};
            t.r(r), t.d(r, {
                closeModal: function() {
                    return J
                },
                init: function() {
                    return j
                },
                navigate: function() {
                    return A
                },
                observeState: function() {
                    return P
                },
                openModal: function() {
                    return C
                },
                registerHeightReporter: function() {
                    return E
                },
                showToast: function() {
                    return O
                }
            });
            var o = t(1191);
            const i = "dashboardWixCodeSdk",
                a = n => {
                    const e = {
                        invoke(e, ...t) {
                            return n("invoke", e, ...t)
                        },
                        notifyListeners(e, ...t) {
                            return n("notifyListeners", e, ...t)
                        },
                        addListener(e, t) {
                            return n("addListener", e, t)
                        },
                        getModuleParams() {
                            return n("getModuleParams")
                        },
                        openLightbox() {
                            return n("openLightbox")
                        },
                        closeLightbox() {
                            return n("closeLightbox")
                        },
                        showToast(n) {
                            return e.invoke("businessManager.showToast", n)
                        },
                        showBadge(n) {
                            return e.invoke("businessManager.showSidebarBadge", n)
                        },
                        navigateTo(n) {
                            return e.invoke("businessManager.navigateTo", n)
                        },
                        getCurrentInstance(n) {
                            return e.invoke("businessManager.getCurrentInstance", n)
                        },
                        getMandatoryBIFields() {
                            return e.invoke("businessManager.getMandatoryBIFields")
                        },
                        notifyViewStartLoading(n) {
                            return e.notifyListeners("businessManager.viewStartLoading", n)
                        },
                        notifyViewFinishedLoading(n) {
                            return e.notifyListeners("businessManager.viewFinishedLoading", n)
                        },
                        notifyViewFirstInteractive(n) {
                            return e.notifyListeners("businessManager.viewFirstInteractive", n)
                        }
                    };
                    return e
                };
            var s = t(6175);
            const u = n => {
                let e, t;
                return async (r, ...o) => {
                    e || (t = await n(), t && (e = (0, s.Ud)(t)));
                    const [i, a] = (n => {
                        const e = [],
                            t = n => (e.push(n), {
                                proxyId: e.length - 1
                            }),
                            r = n => {
                                return n instanceof Promise || (e = n) && "[object Function]" === {}.toString.call(e) ? t(n) : Array.isArray(n) ? n.map(r) : n === Object(n) ? Object.entries(n).reduce(((n, [e, t]) => (n[e] = r(t), n)), {}) : n;
                                var e
                            };
                        return [r(n), (0, s.sj)(e)]
                    })(o);
                    return e && e[r](i, a)
                }
            };
            var c = new Set(["https://manage.wix.com", "https://manage.editorx.com"]);
            var l, f, d = t(8635),
                v = "__proxyCallbackId__wixSDK__",
                p = "__proxyPromiseId__wixSDK__",
                h = function(n) {
                    return (0, o.mG)(void 0, void 0, void 0, (function() {
                        var e, t, r, i;
                        return (0, o.Jh)(this, (function(o) {
                            switch (o.label) {
                                case 0:
                                    return i = m, [4, n];
                                case 1:
                                    return e = i.apply(void 0, [o.sent()]), t = e[0], r = e[1], [2, (0, d.sj)({
                                        proxies: t,
                                        clonables: r
                                    })]
                            }
                        }))
                    }))
                },
                g = function(n) {
                    return (0, o.mG)(void 0, void 0, void 0, (function() {
                        var e, t;
                        return (0, o.Jh)(this, (function(r) {
                            switch (r.label) {
                                case 0:
                                    return e = b, t = [null == n ? void 0 : n.proxies], [4, null == n ? void 0 : n.clonables];
                                case 1:
                                    return [2, e.apply(void 0, t.concat([r.sent()]))]
                            }
                        }))
                    }))
                },
                m = function(n) {
                    var e = function(n, t) {
                            var r, o;
                            if (w(t)) {
                                var i = L();
                                return n.promises[i] = t, (r = {})[p] = i, r
                            }
                            if (k(t)) {
                                i = L();
                                return n.callbacks[i] = function(n, e) {
                                    var r = b(n, e),
                                        o = t.apply(void 0, r);
                                    return h(o)
                                }, (o = {})[v] = i, o
                            }
                            return Array.isArray(t) ? t.map((function(t) {
                                return e(n, t)
                            })) : M(t) ? S(t, (function(t) {
                                return e(n, t)
                            })) : t
                        },
                        t = {
                            promises: {},
                            callbacks: {}
                        };
                    return [t, e(t, n)]
                },
                b = function(n, e) {
                    if (Array.isArray(e)) return e.map((function(e) {
                        return b(n, e)
                    }));
                    if (M(e) && e.hasOwnProperty(p)) {
                        var t = e[p];
                        return n.promises[t]
                    }
                    if (M(e) && e.hasOwnProperty(v)) {
                        var r = e[v];
                        return function() {
                            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                            return (0, o.mG)(void 0, void 0, void 0, (function() {
                                var t, i, a, s;
                                return (0, o.Jh)(this, (function(o) {
                                    switch (o.label) {
                                        case 0:
                                            return t = m(e), i = t[0], a = t[1], [4, n.callbacks[r]((0, d.sj)(i), a)];
                                        case 1:
                                            return s = o.sent(), [2, g(s)]
                                    }
                                }))
                            }))
                        }
                    }
                    return M(e) ? S(e, (function(e) {
                        return b(n, e)
                    })) : e
                },
                y = function(n, e) {
                    return new Proxy(n, {
                        get: function(n, t) {
                            return e(n[t])
                        }
                    })
                },
                w = function(n) {
                    return n instanceof Promise
                },
                M = function(n) {
                    return n && "object" == typeof n && !w(n)
                },
                k = function(n) {
                    return "function" == typeof n
                },
                S = function(n, e) {
                    return Object.fromEntries(Object.entries(n).map((function(n) {
                        var t = n[0],
                            r = n[1];
                        return [t, e(r)]
                    })))
                },
                L = (l = 0, function() {
                    return ++l
                }),
                x = function() {
                    if (!f) throw new Error("SDK was not initialized");
                    return f
                },
                _ = function() {
                    return (0, o.mG)(void 0, void 0, void 0, (function() {
                        var n;
                        return (0, o.Jh)(this, (function(e) {
                            switch (e.label) {
                                case 0:
                                    return f ? (n = f, f = void 0, [4, n[d.Yy]()]) : [3, 2];
                                case 1:
                                    e.sent(), e.label = 2;
                                case 2:
                                    return [2]
                            }
                        }))
                    }))
                },
                j = function(n) {
                    var e = n.postMessage,
                        t = n.origin;
                    _();
                    var r, i = function(n) {
                        var e = n.postMessage,
                            t = n.origin;
                        if (!t) throw new Error("Origin must be provided in the URL search params.");
                        if (!c.has(t)) throw new Error("Invalid origin. Can't handshake with provided origin");
                        var r = new MessageChannel,
                            o = r.port1,
                            i = r.port2;
                        return e({
                            code: "wix-sdk-bo-hello-handshake",
                            version: "1.0.0",
                            port: i
                        }, t, [i]), o
                    }({
                        postMessage: e,
                        origin: t
                    });
                    return r = (0, d.Ud)(i), f = y(r, (function(n) {
                        return function() {
                            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                            return (0, o.mG)(void 0, void 0, void 0, (function() {
                                var t, r, i, a;
                                return (0, o.Jh)(this, (function(o) {
                                    switch (o.label) {
                                        case 0:
                                            return t = m(e), r = t[0], i = t[1], [4, n((0, d.sj)(r), i)];
                                        case 1:
                                            return a = o.sent(), [2, g(a)]
                                    }
                                }))
                            }))
                        }
                    })), _
                },
                E = function(n) {
                    void 0 === n && (n = document.documentElement);
                    var e = new ResizeObserver((function() {
                        return e = n, void x().updateHeight(e.offsetHeight);
                        var e
                    }));
                    return e.observe(n),
                        function() {
                            return e.disconnect()
                        }
                },
                O = function() {
                    for (var n = [], e = 0; e < arguments.length; e++) n[e] = arguments[e];
                    return (0, o.mG)(void 0, void 0, void 0, (function() {
                        var e;
                        return (0, o.Jh)(this, (function(t) {
                            return [2, (e = x()).showToast.apply(e, n)]
                        }))
                    }))
                },
                P = function() {
                    for (var n = [], e = 0; e < arguments.length; e++) n[e] = arguments[e];
                    return (0, o.mG)(void 0, void 0, void 0, (function() {
                        var e;
                        return (0, o.Jh)(this, (function(t) {
                            return [2, (e = x()).observeState.apply(e, n)]
                        }))
                    }))
                },
                A = function() {
                    for (var n, e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    return (n = x()).navigate.apply(n, e)
                },
                C = function() {
                    for (var n = [], e = 0; e < arguments.length; e++) n[e] = arguments[e];
                    return (0, o.mG)(void 0, void 0, void 0, (function() {
                        var e;
                        return (0, o.Jh)(this, (function(t) {
                            return [2, (e = x()).openModal.apply(e, n)]
                        }))
                    }))
                },
                J = function(n) {
                    if (void 0 === n) return x().closeModal();
                    var e = JSON.parse(JSON.stringify(n));
                    return x().closeModal(e)
                };

            function I({
                handlers: n,
                platformEnvData: e,
                onPageWillUnmount: t
            }) {
                const c = u(n[i].getDashboardApi);
                let l = {};
                try {
                    if (function({
                            locationHref: n
                        }) {
                            return "true" === new URL(n).searchParams.get("dashboardSdkAvailable")
                        }({
                            locationHref: e.location.rawUrl
                        })) {
                        const a = n[i].postMessageParent,
                            {
                                init: u
                            } = r;
                        l = (0, o._T)(r, ["init"]);
                        const c = u({
                            origin: (f = e.location.rawUrl, new URL(f).searchParams.get("origin") || ""),
                            postMessage: (n, e, t) => a(n, e, (0, s.re)(t, t))
                        });
                        t((() => {
                            c && c()
                        }))
                    }
                } catch (e) {
                    throw n[i].captureError(e), e
                }
                var f;
                return {
                    dashboard: Object.assign(Object.assign({}, a(c)), l)
                }
            }
        },
        8635: function(n, e, t) {
            t.d(e, {
                Ud: function() {
                    return f
                },
                Yy: function() {
                    return i
                },
                sj: function() {
                    return g
                }
            });
            const r = Symbol("Comlink.proxy"),
                o = Symbol("Comlink.endpoint"),
                i = Symbol("Comlink.releaseProxy"),
                a = Symbol("Comlink.thrown"),
                s = n => "object" == typeof n && null !== n || "function" == typeof n,
                u = new Map([
                    ["proxy", {
                        canHandle: n => s(n) && n[r],
                        serialize(n) {
                            const {
                                port1: e,
                                port2: t
                            } = new MessageChannel;
                            return c(n, e), [t, [t]]
                        },
                        deserialize(n) {
                            return n.start(), f(n)
                        }
                    }],
                    ["throw", {
                        canHandle: n => s(n) && a in n,
                        serialize({
                            value: n
                        }) {
                            let e;
                            return e = n instanceof Error ? {
                                isError: !0,
                                value: {
                                    message: n.message,
                                    name: n.name,
                                    stack: n.stack
                                }
                            } : {
                                isError: !1,
                                value: n
                            }, [e, []]
                        },
                        deserialize(n) {
                            if (n.isError) throw Object.assign(new Error(n.value.message), n.value);
                            throw n.value
                        }
                    }]
                ]);

            function c(n, e = self) {
                e.addEventListener("message", (function t(r) {
                    if (!r || !r.data) return;
                    const {
                        id: o,
                        type: i,
                        path: s
                    } = Object.assign({
                        path: []
                    }, r.data), u = (r.data.argumentList || []).map(b);
                    let f;
                    try {
                        const e = s.slice(0, -1).reduce(((n, e) => n[e]), n),
                            t = s.reduce(((n, e) => n[e]), n);
                        switch (i) {
                            case 0:
                                f = t;
                                break;
                            case 1:
                                e[s.slice(-1)[0]] = b(r.data.value), f = !0;
                                break;
                            case 2:
                                f = t.apply(e, u);
                                break;
                            case 3:
                                f = g(new t(...u));
                                break;
                            case 4:
                                {
                                    const {
                                        port1: e,
                                        port2: t
                                    } = new MessageChannel;c(n, t),
                                    f = function(n, e) {
                                        return h.set(n, e), n
                                    }(e, [e])
                                }
                                break;
                            case 5:
                                f = void 0
                        }
                    } catch (n) {
                        f = {
                            value: n,
                            [a]: 0
                        }
                    }
                    Promise.resolve(f).catch((n => ({
                        value: n,
                        [a]: 0
                    }))).then((n => {
                        const [r, a] = m(n);
                        e.postMessage(Object.assign(Object.assign({}, r), {
                            id: o
                        }), a), 5 === i && (e.removeEventListener("message", t), l(e))
                    }))
                })), e.start && e.start()
            }

            function l(n) {
                (function(n) {
                    return "MessagePort" === n.constructor.name
                })(n) && n.close()
            }

            function f(n, e) {
                return v(n, [], e)
            }

            function d(n) {
                if (n) throw new Error("Proxy has been released and is not useable")
            }

            function v(n, e = [], t = function() {}) {
                let r = !1;
                const a = new Proxy(t, {
                    get(t, o) {
                        if (d(r), o === i) return () => y(n, {
                            type: 5,
                            path: e.map((n => n.toString()))
                        }).then((() => {
                            l(n), r = !0
                        }));
                        if ("then" === o) {
                            if (0 === e.length) return {
                                then: () => a
                            };
                            const t = y(n, {
                                type: 0,
                                path: e.map((n => n.toString()))
                            }).then(b);
                            return t.then.bind(t)
                        }
                        return v(n, [...e, o])
                    },
                    set(t, o, i) {
                        d(r);
                        const [a, s] = m(i);
                        return y(n, {
                            type: 1,
                            path: [...e, o].map((n => n.toString())),
                            value: a
                        }, s).then(b)
                    },
                    apply(t, i, a) {
                        d(r);
                        const s = e[e.length - 1];
                        if (s === o) return y(n, {
                            type: 4
                        }).then(b);
                        if ("bind" === s) return v(n, e.slice(0, -1));
                        const [u, c] = p(a);
                        return y(n, {
                            type: 2,
                            path: e.map((n => n.toString())),
                            argumentList: u
                        }, c).then(b)
                    },
                    construct(t, o) {
                        d(r);
                        const [i, a] = p(o);
                        return y(n, {
                            type: 3,
                            path: e.map((n => n.toString())),
                            argumentList: i
                        }, a).then(b)
                    }
                });
                return a
            }

            function p(n) {
                const e = n.map(m);
                return [e.map((n => n[0])), (t = e.map((n => n[1])), Array.prototype.concat.apply([], t))];
                var t
            }
            const h = new WeakMap;

            function g(n) {
                return Object.assign(n, {
                    [r]: !0
                })
            }

            function m(n) {
                for (const [e, t] of u)
                    if (t.canHandle(n)) {
                        const [r, o] = t.serialize(n);
                        return [{
                            type: 3,
                            name: e,
                            value: r
                        }, o]
                    }
                return [{
                    type: 0,
                    value: n
                }, h.get(n) || []]
            }

            function b(n) {
                switch (n.type) {
                    case 3:
                        return u.get(n.name).deserialize(n.value);
                    case 0:
                        return n.value
                }
            }

            function y(n, e, t) {
                return new Promise((r => {
                    const o = new Array(4).fill(0).map((() => Math.floor(Math.random() * Number.MAX_SAFE_INTEGER).toString(16))).join("-");
                    n.addEventListener("message", (function e(t) {
                        t.data && t.data.id && t.data.id === o && (n.removeEventListener("message", e), r(t.data))
                    })), n.start && n.start(), n.postMessage(Object.assign({
                        id: o
                    }, e), t)
                }))
            }
        }
    }
]);
//# sourceMappingURL=feature-dashboard-wix-code-sdk.c508a52a.chunk.min.js.map