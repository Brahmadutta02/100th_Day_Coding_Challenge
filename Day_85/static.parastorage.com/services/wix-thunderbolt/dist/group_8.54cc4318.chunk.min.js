"use strict";
(self.webpackJsonp__wix_thunderbolt_app = self.webpackJsonp__wix_thunderbolt_app || []).push([
    [6121], {
        49694: function(e, t, n) {
            n.r(t), n.d(t, {
                DynamicPagesResponseHandlerSymbol: function() {
                    return p.h8
                },
                site: function() {
                    return M
                }
            });
            var a = n(43757),
                s = n(19238),
                r = n(8562),
                o = n(61049),
                i = n(49574),
                c = n(5096),
                l = n(56405),
                p = n(63577);
            const d = "_403_dp",
                u = "_404_dp",
                g = "_500_dp",
                f = "_uknown_error_dp",
                h = e => e.replace("./", "").split("/"),
                m = e => /(^https?)|(^data)|(^blob)|(^\/\/)/.test(e),
                b = (e, t) => /^\/(.*)/.test(e) ? `.${e}` : `./${t}/${e}`,
                D = e => h(e)[0];
            var I, v = n(46466);
            ! function(e) {
                e.PAGES = "pages", e.SITEMAP = "sitemap"
            }(I || (I = {}));
            const y = (0, a.ff)([(0, a.t6)(o.R9, p.u2), l.Xb, i.U, s.Iz, p.h8, p.Dp, c.ZQ, v.p], (({
                prefixToRouterFetchData: e,
                routerPagesSeoToIdMap: t,
                externalBaseUrl: n,
                viewMode: a
            }, s, o, i, {
                handleResponse: c
            }, l, p, d) => {
                const g = (e, t, s) => {
                        const {
                            routerPrefix: r,
                            config: o,
                            pageRoles: i,
                            roleVariations: c
                        } = e.optionsData.bodyData, l = (e => `/${h(e).slice(1).join("/")}`)(t), p = `${n}${r}${l}${s}`;
                        return JSON.stringify({
                            routerPrefix: r,
                            routerSuffix: l,
                            fullUrl: p,
                            config: o,
                            pageRoles: i,
                            roleVariations: c,
                            requestInfo: {
                                env: "browser",
                                formFactor: a
                            }
                        })
                    },
                    f = (e, t, n, a) => {
                        var o;
                        const {
                            basePath: i,
                            queryParams: c,
                            appDefinitionId: l
                        } = e.urlData, u = ((e, t, n) => {
                            const a = new URL(e);
                            return a.searchParams.append(t, n), a.toString()
                        })(`${i}/${a}?${c}`, "instance", s.getAppInstanceByAppDefId(l)), f = e.shouldAddWixCodeInstanceToHeader && s.getAppInstanceByAppDefId(e.wixCodeAppDefinitionId);
                        return f && (e.optionsData.headers.Authorization = f), e.optionsData.headers["X-XSRF-TOKEN"] = (0, r.m5)(null === (o = null == p ? void 0 : p.document) || void 0 === o ? void 0 : o.cookie), {
                            url: u,
                            options: Object.assign(Object.assign({
                                method: "POST",
                                body: g(e, t, n),
                                headers: Object.assign(Object.assign({}, {
                                    commonConfig: JSON.stringify(d.getCommonConfig())
                                }), e.optionsData.headers)
                            }, e.optionsData.credentials ? {
                                credentials: e.optionsData.credentials
                            } : {}), e.optionsData.mode ? {
                                mode: e.optionsData.mode
                            } : {})
                        }
                    };
                return {
                    getSitemapFetchParams(t) {
                        const n = e[t];
                        return n ? f(n, i.getRelativeEncodedUrl(), i.getParsedUrl().search, I.SITEMAP) : null
                    },
                    async handle(n) {
                        if (!n.pageId && n.relativeUrl && n.parsedUrl && n.relativeEncodedUrl) {
                            const a = D(n.relativeUrl),
                                s = e[a];
                            if (!s) return t[a] ? Object.assign(Object.assign({}, n), {
                                pageId: u
                            }) : n;
                            const {
                                url: r,
                                options: i
                            } = f(s, n.relativeEncodedUrl, n.parsedUrl.search, I.PAGES), p = c(o.envFetch(r, i), n);
                            return l.getHandler().handle(p, n)
                        }
                        return n
                    }
                }
            }));
            var P = n(59032),
                S = n(17924),
                w = n(82627),
                U = n(21924);
            const j = (0, a.ff)([(0, a.t6)(o.R9, p.u2), c.ZQ, S.Ji, U.QJ, w.O, c.sb], (({
                externalBaseUrl: e
            }, t, n, a, s, o) => ({
                async handleResponse(n, s) {
                    const i = D(s.relativeUrl);
                    return n.then((async n => {
                        if (!n.ok) throw n;
                        const c = await n.json(),
                            {
                                result: l,
                                exception: p
                            } = c,
                            {
                                redirectUrl: h,
                                status: D
                            } = l;
                        if (D && (0, r.yF)(t) && a.isInSEO() && a.setVeloSeoStatusCode(D), h) {
                            if ((0, r.yF)(t)) {
                                const t = ((e, t, n, a) => {
                                    if (m(e)) return e;
                                    const s = b(e, n),
                                        r = new URL(s, `${t}/`);
                                    return r.search = a, r.toString()
                                })(h, e, i, s.parsedUrl.search);
                                return a.setRedirectUrl(t), null
                            }
                            if (await o, t.document.head.querySelector('meta[http-equiv="refresh"]')) return null;
                            if (m(h)) return t.location.assign(h), null;
                            return {
                                redirectUrl: b(h, i)
                            }
                        }
                        const I = (({
                            status: e,
                            page: t,
                            redirectUrl: n
                        }, a) => a ? g : 403 === e ? d : 404 === e ? u : t || n ? null : f)(l, p);
                        return I ? Object.assign(Object.assign({}, s), {
                            pageId: I
                        }) : ((e, t) => {
                            const {
                                page: n,
                                data: a,
                                head: s,
                                tpaInnerRoute: r,
                                publicData: o
                            } = t.result;
                            return Object.assign(Object.assign({}, e), {
                                pageId: n,
                                dynamicRouteData: {
                                    pageData: a,
                                    pageHeadData: s,
                                    publicData: o,
                                    tpaInnerRoute: r
                                }
                            })
                        })(s, c)
                    })).catch((() => (0, r.yF)(t) ? null : Object.assign(Object.assign({}, s), {
                        pageId: g
                    })))
                }
            })));
            var O = n(26513),
                _ = n(2811),
                R = n(95848);
            const $ = (0, a.ff)([(0, a.t6)(o.Wf, p.u2), s.F0, O.jj, (0, a.jt)(_.n9)], ((e, t, n, a) => {
                    const s = async (e, s) => {
                        const {
                            success: r,
                            reason: o
                        } = await (async () => {
                            try {
                                return await a.promptLogin(), {
                                    success: !0,
                                    reason: ""
                                }
                            } catch (e) {
                                return {
                                    success: !1,
                                    reason: e
                                }
                            }
                        })();
                        return o === R.$9.CANCELED && n.isLandingOnProtectedPage() ? t.navigate("./") : !!r && t.navigate(s.parsedUrl.href)
                    };
                    return e.update((() => ({
                        handlePermissions: s,
                        isMemberLoggedIn: async () => !!await (null == a ? void 0 : a.getMemberDetails()),
                        isSiteMembersInstalled: !!a
                    }))), {
                        appWillMount: async () => {}
                    }
                })),
                A = (0, a.ff)([(0, a.t6)(o.Wf, p.u2)], (e => ({
                    getHandler: () => ({
                        handle: async (t, n) => {
                            const a = await t,
                                {
                                    handlePermissions: s,
                                    isMemberLoggedIn: r,
                                    isSiteMembersInstalled: o
                                } = e.get(),
                                i = await r();
                            return o && (null == a ? void 0 : a.pageId) === d && !i ? (s(a, n), null) : a
                        }
                    })
                }))),
                M = e => {
                    e(s.BD.Dynamic, o.o8).to(y), e(p.h8).to(j), e(p.N8, P.j.AppWillMountHandler).to($), e(p.Dp).to(A)
                }
        },
        39489: function(e, t, n) {
            n.r(t), n.d(t, {
                page: function() {
                    return l
                }
            });
            var a = n(59032),
                s = n(61049),
                r = n(55048);
            var o = n(43757),
                i = n(50614);
            const c = (0, o.ff)([(0, o.t6)(s.$e, i.u), r.QZ, r.xP], ((e, t, n) => ({
                    name: "sosp",
                    pageWillMount(a) {
                        ((e, t, n, a) => {
                            const {
                                sospCompId: s,
                                sospParentId: r,
                                position: o,
                                pagesToShowSosp: i
                            } = t, c = n.get(r);
                            c && (i[e] ? (c.components.includes(s) || n.addComponentToParent(r, s, o), a.update({
                                [r]: {
                                    className: "page-with-sosp"
                                }
                            })) : (c.components.includes(s) && n.removeComponentFromParent(r, s), a.update({
                                [r]: {
                                    className: "page-without-sosp"
                                }
                            })))
                        })(a, e, t, n)
                    }
                }))),
                l = e => {
                    e(a.j.PageWillMountHandler).to(c)
                }
        }
    }
]);
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/group_8.54cc4318.chunk.min.js.map