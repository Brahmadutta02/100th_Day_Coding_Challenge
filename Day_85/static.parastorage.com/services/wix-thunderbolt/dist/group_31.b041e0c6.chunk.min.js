"use strict";
(self.webpackJsonp__wix_thunderbolt_app = self.webpackJsonp__wix_thunderbolt_app || []).push([
    [5122], {
        89003: function(e, t, a) {
            a.r(t), a.d(t, {
                ImageZoomAPISymbol: function() {
                    return r.Ai
                },
                page: function() {
                    return P
                }
            });
            var n = a(43757),
                o = a(61049),
                i = a(55048),
                r = a(95100),
                l = a(19238);
            const s = (e, t, a) => {
                    const n = t.getParsedUrl().searchParams.get(r.dq);
                    if (!n) return null;
                    const o = e.get(r.tl),
                        i = n.includes(r.K9) ? n.split(r.K9)[0] : a[n] || (null == o ? void 0 : o.compId);
                    return i ? {
                        dataItemId: n,
                        compId: i
                    } : null
                },
                c = (0, n.ff)([(0, n.t6)(o.$e, r.u2), i.xP, r.Ai, l.Iz], (({
                    imageDataItemIdToCompId: e
                }, t, a, n) => ({
                    async onUrlChange() {
                        const o = s(t, n, e);
                        o ? await a.openImageZoom(o.compId, o.dataItemId) : a.closeImageZoom()
                    },
                    async pageDidMount() {
                        const o = s(t, n, e);
                        o && await a.openImageZoom(o.compId, o.dataItemId)
                    },
                    async pageDidUnmount() {
                        a.closeImageZoom()
                    }
                })));
            var d = a(59032),
                m = a(31191);
            const g = (e, t, a, n, o) => {
                const i = e => {
                        const t = o.getParsedUrl();
                        e ? t.searchParams.set(r.dq, e) : t.searchParams.delete(r.dq), o.pushUrlState(t)
                    },
                    l = () => {
                        a.isComponentInDynamicStructure(r.tl) && (a.isComponentInDynamicStructure(r.tl) && (a.removeComponentFromDynamicStructure(r.tl), n.setSiteScrollingBlocked(!1, r.tl)), i(null))
                    },
                    s = e => {
                        i(e)
                    },
                    c = (t, a) => {
                        const n = "Smartphone" === e.deviceType,
                            {
                                id: o,
                                uri: i,
                                alt: r,
                                width: l,
                                height: s,
                                href: c,
                                link: d,
                                title: m,
                                description: g,
                                crop: p,
                                quality: u,
                                filterEffectSvgString: I,
                                filterEffectSvgUrl: f
                            } = t,
                            h = (null == d ? void 0 : d.href) || (null == d ? void 0 : d.linkPopupId) ? {
                                link: d
                            } : {},
                            y = c ? {
                                link: Object.assign(Object.assign({}, d), {
                                    href: c
                                })
                            } : h;
                        return Object.assign(Object.assign({
                            id: o,
                            containerId: a,
                            uri: i,
                            alt: r,
                            name: t.name,
                            width: l,
                            height: s,
                            title: m,
                            quality: u,
                            description: g,
                            filterEffectSvgString: I,
                            filterEffectSvgUrl: f
                        }, y), !n && {
                            crop: p
                        })
                    },
                    d = async (o, d, g) => {
                        const [p] = o.split("__"), u = Object.assign(Object.assign({}, t.get(p)), t.get(o));
                        if (a.isComponentInDynamicStructure(r.tl)) return;
                        const I = e.tpaGalleriesComps.hasOwnProperty(p),
                            f = e.nativeGalleriesComps.hasOwnProperty(p);
                        let h;
                        h = I ? ((e, t) => e.images.map((e => c(e, t))))(u, o) : f ? u.items.map((e => {
                            var {
                                image: t,
                                dataId: a
                            } = e, n = (0, m._T)(e, ["image", "dataId"]);
                            return c(Object.assign(Object.assign({
                                id: a
                            }, t), n))
                        })) : [c(u, o)];
                        const y = {
                            images: h,
                            onClose: () => {
                                l(), g && g()
                            },
                            onImageChange: s,
                            dataItemId: d,
                            compId: o,
                            deviceType: e.deviceType
                        };
                        await (async o => {
                            t.update({
                                [r.tl]: o
                            }), await a.addComponentToDynamicStructure(r.tl, {
                                componentType: e.imageZoomCompType,
                                components: []
                            }), n.setSiteScrollingBlocked(!0, r.tl)
                        })(y), e.shouldChangeUrl && i(d)
                    };
                return {
                    openImageZoom: d,
                    closeImageZoom: l,
                    addWPhotoOnClick: a => {
                        const n = e.wPhotoConfig[a];
                        if (!n || t.get(a).onClick) return;
                        t.update({
                            [a]: {
                                onClick: async e => {
                                    const o = e.currentTarget.id || a,
                                        i = t.get(o);
                                    if ("zoomMode" !== Object.assign(Object.assign({}, t.get(a)), i).onClickBehavior) return;
                                    const l = i && o !== a ? `${o}${r.K9}${n}` : n;
                                    e.preventDefault(), e.stopPropagation(), await d(o, l)
                                }
                            }
                        })
                    },
                    addNativeGalleryOnClick: e => {
                        t.update({
                            [e]: {
                                openImageZoom: async (e, t, a) => {
                                    await d(t, e, a)
                                }
                            }
                        })
                    }
                }
            };
            var p = a(82627),
                u = a(21924),
                I = a(30830);
            const f = (0, n.ff)([r.Ai], (e => ({
                    componentTypes: ["WPhoto"],
                    componentWillMount(t) {
                        e.addWPhotoOnClick(t.id)
                    }
                }))),
                h = (0, n.ff)([r.Ai, (0, n.t6)(o.$e, r.u2), i.xP, l.Iz, u.QJ, p.O], ((e, {
                    imageDataItemIdToCompId: t,
                    staticMediaUrl: a
                }, n, o, i, l) => ({
                    componentTypes: r.d3,
                    async componentWillMount(r) {
                        var c;
                        e.addNativeGalleryOnClick(r.id);
                        const d = s(n, o, t);
                        if (!d) return;
                        const m = n.get(d.compId),
                            g = null === (c = null == m ? void 0 : m.items) || void 0 === c ? void 0 : c.find((e => e.dataId === d.dataItemId));
                        g && l.sv_imageZoomSeo && await i.setVeloSeoTags({
                            itemType: I.ITEM_TYPES.PRO_GALLERY_ITEM,
                            itemData: {
                                item: {
                                    id: g.dataId,
                                    type: "image",
                                    title: g.image.title,
                                    description: g.description,
                                    page_url: o.getParsedUrl().href,
                                    fullscreen_url: o.getParsedUrl().href,
                                    image: {
                                        url: `${a}/${g.image.uri}`,
                                        height: g.image.height,
                                        width: g.image.width,
                                        alt: g.image.alt
                                    }
                                }
                            }
                        })
                    }
                })));
            var y = a(87821),
                v = a(65482);
            const P = e => {
                e(v.Vx).to(h), e(v.Vx).to(f), e(d.j.PageDidMountHandler, d.j.PageDidUnmountHandler, l.bV).to(c), e(r.Ai).to((0, n.ff)([(0, n.t6)(o.$e, r.u2), i.xP, i.QZ, y.x, l.Iz], g))
            }
        }
    }
]);
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/group_31.b041e0c6.chunk.min.js.map