"use strict";
(self.webpackJsonp__wix_thunderbolt_app = self.webpackJsonp__wix_thunderbolt_app || []).push([
    [2244], {
        70495: function(e, n, t) {
            t.r(n), t.d(n, {
                PageTransitionsCompletedSymbol: function() {
                    return s.TR
                },
                PageTransitionsSymbol: function() {
                    return s.M$
                },
                editor: function() {
                    return x
                },
                editorPage: function() {
                    return j
                },
                page: function() {
                    return P
                }
            });
            var o = t(43757),
                i = t(61049),
                s = t(26064);
            const a = (0, o.ff)([s.TR, (0, o.t6)(i.Wf, s.u2)], ((e, n) => ({
                    pageDidMount(t) {
                        var o;
                        const i = n.get();
                        (null === (o = null == i ? void 0 : i.isFirstMount) || void 0 === o || o) && e.notifyPageTransitionsCompleted(t), n.update((e => Object.assign(Object.assign({}, e), {
                            isFirstMount: !1
                        })))
                    },
                    pageWillUnmount({
                        contextId: e
                    }) {
                        var t, o, i;
                        null === (i = null === (o = null === (t = n.get()) || void 0 === t ? void 0 : t.propsUpdateListenersUnsubscribers) || void 0 === o ? void 0 : o[e]) || void 0 === i || i.call(o), n.update((n => {
                            var t;
                            const o = null !== (t = null == n ? void 0 : n.propsUpdateListenersUnsubscribers) && void 0 !== t ? t : {};
                            return delete o[e], Object.assign(Object.assign({}, n), {
                                propsUpdateListenersUnsubscribers: o
                            })
                        }))
                    }
                }))),
                r = (0, o.ff)([(0, o.t6)(i.Wf, s.u2)], (e => ({
                    disableNextTransition: () => e.update((e => Object.assign(Object.assign({}, e), {
                        nextTransitionEnabled: !1
                    })))
                }))),
                l = (0, o.ff)([], (() => {
                    let e = [];
                    return {
                        onPageTransitionsCompleted: n => {
                            e.push(n)
                        },
                        notifyPageTransitionsCompleted: n => {
                            e.forEach((e => e(n))), e = []
                        }
                    }
                }));
            var u = t(59032),
                d = t(65482),
                c = t(55048),
                p = t(5474);
            const g = (0, o.ff)([c.xP, s.TR, p.i, (0, o.t6)(i.Wf, s.u2)], ((e, n, t, o) => ({
                componentTypes: ["Page"],
                componentWillMount(i) {
                    const s = o.get(),
                        a = !s || s.nextTransitionEnabled,
                        r = !s || s.isFirstMount,
                        l = i.id;
                    e.update({
                        SITE_PAGES: {
                            transitionEnabled: a,
                            onTransitionStarting: () => {
                                t.getScrollYHistoryState() || t.scrollToTop()
                            },
                            onTransitionComplete: () => {
                                n.notifyPageTransitionsCompleted(l), t.getScrollYHistoryState() && t.restoreScrollPosition()
                            }
                        }
                    }), o.update((() => Object.assign(Object.assign({}, s), {
                        isFirstMount: r,
                        nextTransitionEnabled: !0
                    })))
                }
            })));
            var b = t(98118),
                f = t(16684),
                v = t.n(f);
            const T = ["video.videoInfo.videoId", "image.uri", "image.link.href", "image.displayMode", "backgroundImage.uri", "backgroundImage.link.href", "backgroundImage.displayMode"],
                y = ["type", "alignType", "fittingType", "scrollType", "colorOverlay", "colorOverlayOpacity", "color", "opacity"],
                m = (e, n, t, o) => o.every((t => (e && e[t]) === (n && n[t]))) && t.every((i => !e && !n || m(e && e[i], n && n[i], t, o))),
                O = (0, o.ff)([(0, o.t6)(i.$e, s.u2), c.xP, s.TR, p.i, (0, o.t6)(i.Wf, s.u2), b.C9, b.ku], ((e, n, t, o, i, s, a) => {
                    const r = `pageBackground_${s}`,
                        l = n.subscribeToChanges((t => {
                            var o, s, a, l, u;
                            if (r in t) {
                                const d = null === (o = t[r]) || void 0 === o ? void 0 : o.fillLayers,
                                    c = i.get().pageBackgroundProp,
                                    p = e.pageBackground,
                                    g = i.get().pageBackground,
                                    b = null === (a = null === (s = i.get()) || void 0 === s ? void 0 : s.nextTransitionEnabled) || void 0 === a || a,
                                    f = !((e, n) => {
                                        if (!n || !e) return !1;
                                        const t = n.mediaRef,
                                            o = t && t.type,
                                            i = e.mediaRef,
                                            s = i && i.type,
                                            a = !t && !i,
                                            r = a || o === s;
                                        let l = [...y];
                                        if ("WixVideo" === o && r) {
                                            const e = l.indexOf("color");
                                            l.splice(e, 1)
                                        } else a && (l = ["color"]);
                                        return r && m(n, e, ["mediaRef", "imageOverlay"], l)
                                    })(p, g),
                                    O = (l = d, !((u = c) && l && T.every((e => v().get(u, e) === v().get(l, e)))) || f);
                                i.update((e => Object.assign(Object.assign({}, e), {
                                    pageBackgroundProp: d,
                                    pageBackground: p
                                }))), n.update({
                                    BACKGROUND_GROUP: {
                                        transitionEnabled: b && O
                                    }
                                })
                            }
                        }));
                    return i.update((e => {
                        var n;
                        const t = null !== (n = null == e ? void 0 : e.propsUpdateListenersUnsubscribers) && void 0 !== n ? n : {};
                        return t[a] = l, Object.assign(Object.assign({}, e || {}), {
                            propsUpdateListenersUnsubscribers: t
                        })
                    })), {
                        componentTypes: ["PageBackground"],
                        componentWillMount() {
                            var e;
                            const n = i.get(),
                                t = null === (e = null == n ? void 0 : n.isFirstMount) || void 0 === e || e;
                            i.update((() => Object.assign(Object.assign({}, n), {
                                isFirstMount: t
                            })))
                        }
                    }
                })),
                P = e => {
                    e(s.TR).to(l), e(s.M$).to(r), e(u.j.PageDidMountHandler, u.j.PageWillUnmountHandler).to(a), e(d.Vx).to(g), e(d.Vx).to(O)
                },
                j = e => {
                    e(u.j.PageDidMountHandler, u.j.PageWillUnmountHandler).to(a), e(d.Vx).to(g), e(d.Vx).to(O)
                },
                x = e => {
                    e(s.M$).to(r), e(s.TR).to(l)
                }
        }
    }
]);
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/group_48.c6a759d9.chunk.min.js.map